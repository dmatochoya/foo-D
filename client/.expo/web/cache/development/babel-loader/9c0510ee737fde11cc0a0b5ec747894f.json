{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/davidmatochoya/Desktop/david-final-project/client/src/components/Detail/Detail.tsx\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nvar styles = StyleSheet.create({\n  header: {\n    position: 'absolute',\n    top: 0,\n    zIndex: 1,\n    marginTop: StatusBar.currentHeight,\n    width: '100%',\n    justifyContent: 'center',\n    backgroundColor: 'rgb(230, 84, 84)',\n    paddingHorizontal: 15\n  },\n  linearGradientBox: {\n    position: 'absolute',\n    backgroundColor: ' rgba(250, 250, 250, 0.4)',\n    width: '100%',\n    height: 240,\n    alignItems: 'center',\n    padding: 10\n  },\n  recipeName: {\n    color: 'black',\n    fontSize: 30,\n    fontWeight: 'bold',\n    textShadowColor: 'rgba(250, 250, 250, 0.4)',\n    textShadowOffset: {\n      width: 1,\n      height: 1\n    },\n    textShadowRadius: 2,\n    textAlign: 'center'\n  },\n  sectionTitle: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginVertical: 20,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    paddingBottom: 15\n  },\n  ingredientContainer: {\n    height: 100,\n    width: 100,\n    backgroundColor: 'rgb(23, 153, 158)',\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  stepContainer: {\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 10,\n      height: 10\n    },\n    shadowOpacity: 1,\n    shadowRadius: 10\n  },\n  stepCard: {\n    alignSelf: 'center',\n    height: 180,\n    borderRadius: 5,\n    borderColor: 'black',\n    borderWidth: 1,\n    backgroundColor: '#FFF',\n    elevation: 10,\n    justifyContent: 'center',\n    padding: 15\n  }\n});\nexport default function Detail(_ref) {\n  var _this = this;\n\n  var recipe = _ref.route.params.recipe,\n      goBack = _ref.navigation.goBack;\n\n  var _Dimensions$get = Dimensions.get('window'),\n      height = _Dimensions$get.height,\n      width = _Dimensions$get.width;\n\n  var recipeStepWidth = +(width - width * 10 / 100).toFixed();\n  var linearGradientBoxHeight = height - 280;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      heartIconPressed = _useState2[0],\n      setHeartIconPressed = _useState2[1];\n\n  var scrollRef = useRef(null);\n  var isFocused = useIsFocused();\n  useEffect(function () {\n    scrollRef.current.scrollTo({\n      x: 0,\n      y: 0,\n      animated: true\n    });\n  }, [isFocused]);\n  var recipePhotoUri;\n  var recipeName;\n\n  var getRecipeNameAndPhoto = function getRecipeNameAndPhoto() {\n    recipePhotoUri = recipe.strMealThumb;\n    recipeName = recipe.strMeal;\n  };\n\n  var ingredientsJSX = [];\n\n  var addIngredientsAndMeasure = function addIngredientsAndMeasure() {\n    for (var i = 1; i < 21; i += 1) {\n      var ingredientName = recipe[\"strIngredient\" + i];\n      var ingredientMeasure = recipe[\"strMeasure\" + i];\n\n      if (ingredientName) {\n        ingredientsJSX.push(React.createElement(View, {\n          key: i,\n          style: {\n            alignItems: 'center',\n            width: '33%',\n            marginBottom: 15\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.ingredientContainer,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: {\n            height: 75,\n            width: 75\n          },\n          source: {\n            uri: \"https://www.themealdb.com/images/ingredients/\" + ingredientName + \".png\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }\n        })), React.createElement(Text, {\n          style: {\n            width: '90%',\n            textAlign: 'center'\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }\n        }, !ingredientName.includes(' ') && ingredientName.includes('-') ? ingredientName.replace('-', '- ') : ingredientName, \"\\n \" + ingredientMeasure)));\n      }\n    }\n  };\n\n  var stepsJSX = [];\n  var arrayOfSteps = [];\n\n  var divideLengthyStepStrings = function divideLengthyStepStrings(string) {\n    var indexOfPoint = string.indexOf('. ', 100);\n\n    if (indexOfPoint !== -1) {\n      arrayOfSteps.push(string.substring(0, indexOfPoint + 1));\n      var remainingStepString = string.substring(indexOfPoint + 2);\n\n      if (remainingStepString.length > 100) {\n        divideLengthyStepStrings(remainingStepString);\n      }\n    } else {\n      arrayOfSteps.push(string);\n    }\n  };\n\n  var checkForLengthyStepStrings = function checkForLengthyStepStrings() {\n    recipe.strInstructions.match(/[^\\r\\n]+/g).forEach(function (string) {\n      if (string.length > 100) {\n        divideLengthyStepStrings(string);\n      } else if (string.length > 1) {\n        arrayOfSteps.push(string);\n      }\n    });\n  };\n\n  var addRecipeSteps = function addRecipeSteps() {\n    checkForLengthyStepStrings();\n    arrayOfSteps.forEach(function (step, stepNumber) {\n      var marginLeft = 10;\n      var marginRight = 0;\n\n      if (step === arrayOfSteps[0]) {\n        marginLeft = 20;\n      } else if (step === arrayOfSteps[arrayOfSteps.length - 1]) {\n        marginRight = 20;\n      }\n\n      stepsJSX.push(React.createElement(View, {\n        key: Math.random() * Date.now(),\n        style: [styles.stepContainer, {\n          width: recipeStepWidth,\n          marginLeft: marginLeft,\n          marginRight: marginRight,\n          position: 'relative'\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: [styles.stepCard, {\n          width: recipeStepWidth\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center',\n          fontSize: 17\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }, (typeof +step[0] === 'number' || typeof +(\"\" + step[0] + step[1]) === 'number') && (step[1] === '.' || step[1] === ')') ? step.substring(2) : step), React.createElement(Text, {\n        style: {\n          position: 'absolute',\n          top: 0,\n          right: 10,\n          textDecorationLine: 'underline'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }\n      }, stepNumber + 1 + \"/\" + arrayOfSteps.length))));\n    });\n  };\n\n  getRecipeNameAndPhoto();\n  addIngredientsAndMeasure();\n  addRecipeSteps();\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"black\",\n    barStyle: \"light-content\",\n    translucent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: [styles.header, {\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, React.createElement(Ionicons, {\n    size: 45,\n    style: {\n      color: 'white'\n    },\n    name: \"ios-arrow-round-back\",\n    type: \"ionicons\",\n    onPress: function onPress() {\n      return goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setHeartIconPressed(!heartIconPressed);\n    },\n    style: {\n      alignSelf: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    size: 30,\n    style: {\n      color: 'white'\n    },\n    name: heartIconPressed ? 'md-heart' : 'md-heart-empty',\n    type: \"ionicons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }))), React.createElement(ScrollView, {\n    style: {\n      marginBottom: 40\n    },\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: {\n      height: height - 40\n    },\n    source: {\n      uri: recipePhotoUri\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }), React.createElement(LinearGradient, {\n    colors: ['transparent', 'rgb(250, 250, 250)'],\n    style: [styles.linearGradientBox, {\n      top: linearGradientBoxHeight\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.recipeName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, recipeName))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.sectionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, \"Ingredients\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      flexWrap: 'wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, ingredientsJSX)), React.createElement(View, {\n    style: {\n      paddingBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.sectionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, \"Steps\"), React.createElement(ScrollView, {\n    ref: scrollRef,\n    horizontal: true,\n    pagingEnabled: true,\n    decelerationRate: 0,\n    snapToInterval: recipeStepWidth + 10.1,\n    snapToAlignment: \"center\",\n    showsHorizontalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, stepsJSX))));\n}","map":{"version":3,"sources":["/Users/davidmatochoya/Desktop/david-final-project/client/src/components/Detail/Detail.tsx"],"names":["React","useState","useRef","useEffect","useIsFocused","Ionicons","LinearGradient","styles","StyleSheet","create","header","position","top","zIndex","marginTop","StatusBar","currentHeight","width","justifyContent","backgroundColor","paddingHorizontal","linearGradientBox","height","alignItems","padding","recipeName","color","fontSize","fontWeight","textShadowColor","textShadowOffset","textShadowRadius","textAlign","sectionTitle","marginVertical","borderBottomWidth","hairlineWidth","paddingBottom","ingredientContainer","borderRadius","stepContainer","shadowColor","shadowOffset","shadowOpacity","shadowRadius","stepCard","alignSelf","borderColor","borderWidth","elevation","Detail","recipe","route","params","goBack","navigation","Dimensions","get","recipeStepWidth","toFixed","linearGradientBoxHeight","heartIconPressed","setHeartIconPressed","scrollRef","isFocused","current","scrollTo","x","y","animated","recipePhotoUri","getRecipeNameAndPhoto","strMealThumb","strMeal","ingredientsJSX","addIngredientsAndMeasure","i","ingredientName","ingredientMeasure","push","marginBottom","uri","includes","replace","stepsJSX","arrayOfSteps","divideLengthyStepStrings","string","indexOfPoint","indexOf","substring","remainingStepString","length","checkForLengthyStepStrings","strInstructions","match","forEach","addRecipeSteps","step","stepNumber","marginLeft","marginRight","Math","random","Date","now","right","textDecorationLine","flexDirection","flexWrap"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport {\n  Dimensions, Text, ScrollView, View, StatusBar, Image, StyleSheet, TouchableOpacity,\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\n\nconst styles = StyleSheet.create({\n  header: {\n    position: 'absolute',\n    top: 0,\n    zIndex: 1,\n    marginTop: StatusBar.currentHeight,\n    width: '100%',\n    justifyContent: 'center',\n    backgroundColor: 'rgb(230, 84, 84)',\n    paddingHorizontal: 15,\n  },\n  linearGradientBox: {\n    position: 'absolute',\n    backgroundColor: ' rgba(250, 250, 250, 0.4)',\n    width: '100%',\n    height: 240,\n    alignItems: 'center',\n    padding: 10,\n  },\n  recipeName: {\n    color: 'black',\n    fontSize: 30,\n    fontWeight: 'bold',\n    textShadowColor: 'rgba(250, 250, 250, 0.4)',\n    textShadowOffset: { width: 1, height: 1 },\n    textShadowRadius: 2,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginVertical: 20,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    paddingBottom: 15,\n  },\n  ingredientContainer: {\n    height: 100,\n    width: 100,\n    backgroundColor: 'rgb(23, 153, 158)',\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  stepContainer: {\n    shadowColor: '#000',\n    shadowOffset: { width: 10, height: 10 },\n    shadowOpacity: 1,\n    shadowRadius: 10,\n  },\n  stepCard: {\n    alignSelf: 'center',\n    height: 180,\n    borderRadius: 5,\n    borderColor: 'black',\n    borderWidth: 1,\n    backgroundColor: '#FFF',\n    elevation: 10,\n    justifyContent: 'center',\n    padding: 15,\n  },\n});\n\ninterface Recipe {\n  [key: string] : string\n}\n\ninterface Props {\n  route: { params: { recipe: Recipe } }\n  navigation: { goBack(): void }\n}\n\nexport default function Detail({\n  route: { params: { recipe } },\n  navigation: { goBack },\n}\n  : Props) {\n  const { height, width } = Dimensions.get('window');\n  const recipeStepWidth = +(width - width * 10 / 100).toFixed();\n  const linearGradientBoxHeight = height - 280;\n\n  const [heartIconPressed, setHeartIconPressed] = useState(false);\n  const scrollRef = useRef(null);\n  const isFocused = useIsFocused();\n\n  useEffect(() => {\n    scrollRef.current.scrollTo({ x: 0, y: 0, animated: true });\n  }, [isFocused]);\n\n  let recipePhotoUri;\n  let recipeName;\n  const getRecipeNameAndPhoto = () => {\n    recipePhotoUri = recipe.strMealThumb;\n    recipeName = recipe.strMeal;\n  };\n\n  const ingredientsJSX: JSX.Element[] = [];\n  const addIngredientsAndMeasure = () => {\n    for (let i = 1; i < 21; i += 1) {\n      const ingredientName = recipe[`strIngredient${i}`];\n      const ingredientMeasure = recipe[`strMeasure${i}`];\n      if (ingredientName) {\n        ingredientsJSX.push(\n          <View key={i} style={{ alignItems: 'center', width: '33%', marginBottom: 15 }}>\n            <View style={styles.ingredientContainer}>\n              <Image\n                style={{\n                  height: 75, width: 75,\n                }}\n                source={{ uri: `https://www.themealdb.com/images/ingredients/${ingredientName}.png` }}\n              />\n            </View>\n            <Text style={{ width: '90%', textAlign: 'center' }}>\n              {\n              !ingredientName.includes(' ') && ingredientName.includes('-')\n                ? ingredientName.replace('-', '- ')\n                : ingredientName\n              }\n              {`\\n ${ingredientMeasure}`}\n            </Text>\n          </View>,\n        );\n      }\n    }\n  };\n\n  const stepsJSX: JSX.Element[] = [];\n  const arrayOfSteps: String[] = [];\n\n  const divideLengthyStepStrings = (string: string) => {\n    const indexOfPoint = string.indexOf('. ', 100);\n    if (indexOfPoint !== -1) {\n      arrayOfSteps.push(string.substring(0, indexOfPoint + 1));\n      const remainingStepString = string.substring(indexOfPoint + 2);\n      if (remainingStepString.length > 100) {\n        divideLengthyStepStrings(remainingStepString);\n      }\n    } else {\n      arrayOfSteps.push(string);\n    }\n  };\n\n  const checkForLengthyStepStrings = () => {\n    recipe!.strInstructions!.match!(/[^\\r\\n]+/g)!.forEach((string) => {\n      if (string.length > 100) {\n        divideLengthyStepStrings(string);\n      } else if (string.length > 1) {\n        arrayOfSteps.push(string);\n      }\n    });\n  };\n\n  const addRecipeSteps = () => {\n    checkForLengthyStepStrings();\n\n    arrayOfSteps.forEach((step, stepNumber) => {\n      let marginLeft = 10;\n      let marginRight = 0;\n      if (step === arrayOfSteps[0]) {\n        marginLeft = 20;\n      } else if (step === arrayOfSteps[arrayOfSteps.length - 1]) {\n        marginRight = 20;\n      }\n\n      stepsJSX.push(\n        <View\n          key={Math.random() * Date.now()}\n          style={[styles.stepContainer, {\n            width: recipeStepWidth, marginLeft, marginRight, position: 'relative',\n          }]}\n        >\n          <View style={[styles.stepCard, { width: recipeStepWidth }]}>\n            <Text style={{ textAlign: 'center', fontSize: 17 }}>\n              {(typeof +step[0] === 'number' || typeof +`${step[0]}${step[1]}` === 'number') && (step[1] === '.' || step[1] === ')') ? step.substring(2) : step}\n            </Text>\n            <Text style={{\n              position: 'absolute', top: 0, right: 10, textDecorationLine: 'underline',\n            }}\n            >\n              {`${stepNumber + 1}/${arrayOfSteps.length}`}\n            </Text>\n          </View>\n        </View>,\n      );\n    });\n  };\n\n  getRecipeNameAndPhoto();\n  addIngredientsAndMeasure();\n  addRecipeSteps();\n\n  return (\n    <View>\n      <StatusBar backgroundColor=\"black\" barStyle=\"light-content\" translucent />\n      <View style={[styles.header, { flexDirection: 'row', justifyContent: 'space-between' }]}>\n        <Ionicons\n          size={45}\n          style={{ color: 'white' }}\n          name=\"ios-arrow-round-back\"\n          type=\"ionicons\"\n          onPress={() => goBack()}\n        />\n        <TouchableOpacity onPress={() => setHeartIconPressed(!heartIconPressed)} style={{ alignSelf: 'center' }}>\n          <Ionicons\n            size={30}\n            style={{ color: 'white' }}\n            name={heartIconPressed ? 'md-heart' : 'md-heart-empty'}\n            type=\"ionicons\"\n          />\n        </TouchableOpacity>\n      </View>\n      <ScrollView style={{ marginBottom: 40 }} showsVerticalScrollIndicator={false}>\n        <View>\n          <Image style={{ height: height - 40 }} source={{ uri: recipePhotoUri }} />\n          <LinearGradient\n            colors={['transparent', 'rgb(250, 250, 250)']}\n            style={[styles.linearGradientBox, { top: linearGradientBoxHeight }]}\n          >\n            <Text style={styles.recipeName}>\n              {recipeName}\n            </Text>\n          </LinearGradient>\n        </View>\n        <View>\n          <Text style={styles.sectionTitle}>\n            Ingredients\n          </Text>\n          <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n            {ingredientsJSX}\n          </View>\n        </View>\n        <View style={{ paddingBottom: 20 }}>\n          <Text style={styles.sectionTitle}>\n            Steps\n          </Text>\n          <ScrollView\n            ref={scrollRef}\n            horizontal\n            pagingEnabled\n            decelerationRate={0}\n            snapToInterval={recipeStepWidth + 10.1}\n            snapToAlignment=\"center\"\n            showsHorizontalScrollIndicator={false}\n          >\n            {stepsJSX}\n          </ScrollView>\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}