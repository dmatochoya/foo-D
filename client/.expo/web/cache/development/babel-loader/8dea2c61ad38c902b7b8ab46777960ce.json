{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/davidmatochoya/Desktop/david-final-project/client/src/components/List/List.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { Swipeable } from 'react-native-gesture-handler';\nimport { Icon } from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { deleteProductFromGorceryList, deleteAllProductsFromGorceryList } from \"../../redux/actions/groceryListActions\";\nimport AddIngredientBoxInput from \"./TextInput\";\nvar styles = StyleSheet.create({\n  header: {\n    position: 'relative',\n    top: 0,\n    zIndex: 1,\n    width: '100%',\n    backgroundColor: 'rgb(230, 84, 84)',\n    paddingHorizontal: 10,\n    justifyContent: 'center'\n  },\n  headerTitleAndIconContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 5\n  },\n  inputBox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginBottom: 10\n  },\n  sectionTitleContainer: {\n    marginTop: 17,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    paddingVertical: 8,\n    paddingHorizontal: 15,\n    backgroundColor: 'rgb(161, 117, 81)',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  ingredientContainer: {\n    marginHorizontal: 20,\n    paddingVertical: 12,\n    borderBottomWidth: 0.2,\n    marginVertical: 1,\n    position: 'relative'\n  }\n});\n\nfunction List(_ref) {\n  var _this = this;\n\n  var groceryList = _ref.groceryList,\n      actions = _ref.actions;\n  var searchBoxRef = useRef();\n\n  var _Dimensions$get = Dimensions.get('window'),\n      width = _Dimensions$get.width,\n      height = _Dimensions$get.height;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      sectionArrowDirection = _useState2[0],\n      setSectionArrowDirection = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sectionVisibility = _useState4[0],\n      setSectionVisibility = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ingredientCrossedOver = _useState6[0],\n      setIngredientCrossedOver = _useState6[1];\n\n  var isFocused = useIsFocused();\n  useEffect(function () {\n    Object.keys(sectionArrowDirection).forEach(function (section) {\n      setSectionArrowDirection(_defineProperty({}, section, 'arrow-down'));\n      setSectionVisibility(_defineProperty({}, section, 'flex'));\n    });\n  }, [isFocused]);\n  var groceryListJSX = [];\n  var listOrderedByFoodType = {};\n  var sectionArrowDirectionObject = {};\n  var sectionVisibilityObject = {};\n\n  var orderItemsByFoodType = function orderItemsByFoodType() {\n    var sectionNumber = 0;\n    groceryList.forEach(function (listItem) {\n      if (listItem.type in listOrderedByFoodType) {\n        listOrderedByFoodType[listItem.type].push(listItem.product);\n      } else {\n        listOrderedByFoodType[listItem.type] = [listItem.product];\n        sectionArrowDirectionObject[sectionNumber] = 'arrow-down';\n        sectionVisibilityObject[sectionNumber] = {\n          display: 'flex'\n        };\n        sectionNumber += 1;\n      }\n    });\n  };\n\n  var addItemsToList = function addItemsToList() {\n    Object.entries(listOrderedByFoodType).forEach(function (foodGroup, sectionIndexNumber) {\n      groceryListJSX.push(React.createElement(View, {\n        key: Math.random() * Date.now(),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.sectionTitleContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20,\n          color: 'white'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, foodGroup[0].toUpperCase() + \" (\" + foodGroup[1].length + \")\"), React.createElement(View, {\n        style: {\n          position: 'relative',\n          top: 2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, React.createElement(Icon, {\n        onPress: function onPress() {\n          if (sectionArrowDirection[sectionIndexNumber] === 'arrow-down' || !sectionArrowDirection[sectionIndexNumber]) {\n            setSectionArrowDirection(_objectSpread(_objectSpread({}, sectionArrowDirection), {}, _defineProperty({}, sectionIndexNumber, 'arrow-up')));\n            setSectionVisibility(_objectSpread(_objectSpread({}, sectionVisibility), {}, _defineProperty({}, sectionIndexNumber, {\n              display: 'none'\n            })));\n          } else {\n            setSectionArrowDirection(_objectSpread(_objectSpread({}, sectionArrowDirection), {}, _defineProperty({}, sectionIndexNumber, 'arrow-down')));\n            setSectionVisibility(_objectSpread(_objectSpread({}, sectionVisibility), {}, _defineProperty({}, sectionIndexNumber, {\n              display: 'flex'\n            })));\n          }\n        },\n        size: 25,\n        color: \"white\",\n        name: sectionArrowDirection[sectionIndexNumber] ? \"ios-\" + sectionArrowDirection[sectionIndexNumber] : 'ios-arrow-down',\n        type: \"ionicon\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: [sectionVisibility[sectionIndexNumber], {\n          marginTop: 5\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, foodGroup[1].map(function (foddGroupItem) {\n        return React.createElement(Swipeable, {\n          key: Math.random() * Date.now(),\n          renderLeftActions: function renderLeftActions() {\n            return React.createElement(View, {\n              style: {\n                width: width\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 42\n              }\n            });\n          },\n          onSwipeableLeftOpen: function onSwipeableLeftOpen() {\n            actions.deleteProductFromGorceryList(foddGroupItem);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: styles.ingredientContainer,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 17,\n            textDecorationLine: ingredientCrossedOver ? 'line-through' : 'none'\n          },\n          onPress: function onPress() {\n            return setIngredientCrossedOver(!ingredientCrossedOver);\n          },\n          suppressHighlighting: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }\n        }, \"\" + foddGroupItem[0].toUpperCase() + foddGroupItem.slice(1))));\n      }))));\n    });\n  };\n\n  if (groceryList.length) {\n    orderItemsByFoodType();\n    addItemsToList();\n  }\n\n  useEffect(function () {\n    if (Object.keys(sectionArrowDirectionObject).length) {\n      setSectionArrowDirection(sectionArrowDirectionObject);\n      setSectionVisibility(sectionVisibilityObject);\n    }\n  }, []);\n\n  var deleteAllItemsAlert = function deleteAllItemsAlert() {\n    return Alert.alert('Are you sure you want to delete all items from the list?', '', [{\n      text: 'Yes',\n      onPress: function onPress() {\n        return actions.deleteAllProductsFromGorceryList();\n      }\n    }, {\n      text: 'No'\n    }], {\n      cancelable: false\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      marginTop: StatusBar.currentHeight,\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"black\",\n    barStyle: \"light-content\",\n    translucent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.headerTitleAndIconContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white',\n      fontSize: 25,\n      paddingVertical: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, \"Grocery list\"), React.createElement(Icon, {\n    size: 30,\n    color: \"white\",\n    name: \"md-trash\",\n    type: \"ionicon\",\n    onPress: function onPress() {\n      if (groceryList.length) {\n        deleteAllItemsAlert();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.inputBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, React.createElement(AddIngredientBoxInput, {\n    searchBoxRef: searchBoxRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }))), React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }, groceryList.length ? React.createElement(View, {\n    style: {\n      marginBottom: 60\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, groceryListJSX) : React.createElement(View, {\n    style: {\n      height: height - 169,\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, \"No items yet\"))));\n}\n\nfunction mapStateToProps(_ref2) {\n  var groceryListReducer = _ref2.groceryListReducer;\n  return {\n    groceryList: groceryListReducer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({\n      deleteProductFromGorceryList: deleteProductFromGorceryList,\n      deleteAllProductsFromGorceryList: deleteAllProductsFromGorceryList\n    }, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List);","map":{"version":3,"sources":["/Users/davidmatochoya/Desktop/david-final-project/client/src/components/List/List.tsx"],"names":["React","useEffect","useRef","useState","useIsFocused","Swipeable","Icon","connect","bindActionCreators","deleteProductFromGorceryList","deleteAllProductsFromGorceryList","AddIngredientBoxInput","styles","StyleSheet","create","header","position","top","zIndex","width","backgroundColor","paddingHorizontal","justifyContent","headerTitleAndIconContainer","flexDirection","alignItems","paddingRight","inputBox","borderRadius","marginBottom","sectionTitleContainer","marginTop","borderBottomWidth","hairlineWidth","paddingVertical","ingredientContainer","marginHorizontal","marginVertical","List","groceryList","actions","searchBoxRef","Dimensions","get","height","sectionArrowDirection","setSectionArrowDirection","sectionVisibility","setSectionVisibility","ingredientCrossedOver","setIngredientCrossedOver","isFocused","Object","keys","forEach","section","groceryListJSX","listOrderedByFoodType","sectionArrowDirectionObject","sectionVisibilityObject","orderItemsByFoodType","sectionNumber","listItem","type","push","product","display","addItemsToList","entries","foodGroup","sectionIndexNumber","Math","random","Date","now","fontSize","color","toUpperCase","length","map","foddGroupItem","textDecorationLine","slice","deleteAllItemsAlert","Alert","alert","text","onPress","cancelable","StatusBar","currentHeight","flex","textAlign","mapStateToProps","groceryListReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {\n  useEffect, useRef, useState,\n} from 'react';\nimport {\n  StyleSheet, View, Text, StatusBar, Dimensions, ScrollView, Alert,\n} from 'react-native';\nimport { useIsFocused } from '@react-navigation/native';\nimport { Swipeable } from 'react-native-gesture-handler';\nimport { Icon } from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { AnyAction, bindActionCreators, Dispatch } from 'redux';\nimport { deleteProductFromGorceryList, deleteAllProductsFromGorceryList } from '../../redux/actions/groceryListActions';\nimport AddIngredientBoxInput from './TextInput';\n\nconst styles = StyleSheet.create({\n  header: {\n    position: 'relative',\n    top: 0,\n    zIndex: 1,\n    width: '100%',\n    backgroundColor: 'rgb(230, 84, 84)',\n    paddingHorizontal: 10,\n    justifyContent: 'center',\n  },\n  headerTitleAndIconContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 5,\n  },\n  inputBox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginBottom: 10,\n  },\n  sectionTitleContainer: {\n    marginTop: 17,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    paddingVertical: 8,\n    paddingHorizontal: 15,\n    backgroundColor: 'rgb(161, 117, 81)',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  ingredientContainer: {\n    marginHorizontal: 20,\n    paddingVertical: 12,\n    borderBottomWidth: 0.2,\n    marginVertical: 1,\n    position: 'relative',\n  },\n});\n\ninterface Actions {\n    deleteProductFromGorceryList(foodGroupItem: string): void\n    deleteAllProductsFromGorceryList(): void\n}\n\ninterface Props {\n  groceryList: object[]\n  actions: Actions\n}\n\nfunction List({ groceryList, actions } : Props) {\n  const searchBoxRef = useRef();\n  const { width, height } = Dimensions.get('window');\n  const [sectionArrowDirection, setSectionArrowDirection] = useState<Object>({});\n  const [sectionVisibility, setSectionVisibility] = useState<Object>({});\n  const [ingredientCrossedOver, setIngredientCrossedOver] = useState<boolean>(false);\n\n  const isFocused = useIsFocused();\n\n  useEffect(() => {\n    Object.keys(sectionArrowDirection).forEach((section) => {\n      setSectionArrowDirection({ [section]: 'arrow-down' });\n      setSectionVisibility({ [section]: 'flex' });\n    });\n  }, [isFocused]);\n\n  const groceryListJSX: JSX.Element[] = [];\n  const listOrderedByFoodType: Object = {};\n  const sectionArrowDirectionObject: Object = {};\n  const sectionVisibilityObject: Object = {};\n\n  const orderItemsByFoodType = () => {\n    let sectionNumber = 0;\n    groceryList.forEach((listItem: Object) => {\n      if (listItem.type in listOrderedByFoodType) {\n        listOrderedByFoodType[listItem.type].push(listItem.product);\n      } else {\n        listOrderedByFoodType[listItem.type] = [listItem.product];\n        sectionArrowDirectionObject[sectionNumber] = 'arrow-down';\n        sectionVisibilityObject[sectionNumber] = { display: 'flex' };\n        sectionNumber += 1;\n      }\n    });\n  };\n\n  const addItemsToList = () => {\n    Object.entries(listOrderedByFoodType).forEach((foodGroup, sectionIndexNumber) => {\n      groceryListJSX.push(\n        <View key={Math.random() * Date.now()}>\n          <View style={styles.sectionTitleContainer}>\n            <Text style={{ fontSize: 20, color: 'white' }}>\n              {`${foodGroup[0].toUpperCase()} (${foodGroup[1].length})`}\n            </Text>\n            <View style={{ position: 'relative', top: 2 }}>\n              <Icon\n                onPress={() => {\n                  if (sectionArrowDirection[sectionIndexNumber] === 'arrow-down' || !sectionArrowDirection[sectionIndexNumber]) {\n                    setSectionArrowDirection({ ...sectionArrowDirection, [sectionIndexNumber]: 'arrow-up' });\n                    setSectionVisibility({ ...sectionVisibility, [sectionIndexNumber]: { display: 'none' } });\n                  } else {\n                    setSectionArrowDirection({ ...sectionArrowDirection, [sectionIndexNumber]: 'arrow-down' });\n                    setSectionVisibility({ ...sectionVisibility, [sectionIndexNumber]: { display: 'flex' } });\n                  }\n                }}\n                size={25}\n                color=\"white\"\n                name={sectionArrowDirection[sectionIndexNumber] ? `ios-${sectionArrowDirection[sectionIndexNumber]}` : 'ios-arrow-down'}\n                type=\"ionicon\"\n              />\n            </View>\n          </View>\n          <View style={[sectionVisibility[sectionIndexNumber], { marginTop: 5 }]}>\n            {foodGroup[1].map((foddGroupItem: string) => (\n              <Swipeable\n                key={Math.random() * Date.now()}\n                renderLeftActions={() => <View style={{ width }} />}\n                onSwipeableLeftOpen={() => {\n                  actions.deleteProductFromGorceryList(foddGroupItem);\n                }}\n              >\n                <View style={styles.ingredientContainer}>\n                  <Text style={{ fontSize: 17, textDecorationLine: ingredientCrossedOver ? 'line-through' : 'none' }} onPress={() => setIngredientCrossedOver(!ingredientCrossedOver)} suppressHighlighting>\n                    {`${foddGroupItem[0].toUpperCase()}${foddGroupItem.slice(1)}`}\n                  </Text>\n                </View>\n              </Swipeable>\n            ))}\n          </View>\n        </View>,\n      );\n    });\n  };\n\n  if (groceryList.length) {\n    orderItemsByFoodType();\n    addItemsToList();\n  }\n\n  useEffect(() => {\n    if (Object.keys(sectionArrowDirectionObject).length) {\n      setSectionArrowDirection(sectionArrowDirectionObject);\n      setSectionVisibility(sectionVisibilityObject);\n    }\n  }, []);\n\n  const deleteAllItemsAlert = () => Alert.alert(\n    'Are you sure you want to delete all items from the list?',\n    '',\n    [\n      { text: 'Yes', onPress: () => actions.deleteAllProductsFromGorceryList() },\n      { text: 'No' },\n    ],\n    { cancelable: false },\n  );\n\n  return (\n    <View style={{ marginTop: StatusBar.currentHeight, flex: 1 }}>\n      <StatusBar backgroundColor=\"black\" barStyle=\"light-content\" translucent />\n      <View style={styles.header}>\n        <View style={styles.headerTitleAndIconContainer}>\n          <Text style={{ color: 'white', fontSize: 25, paddingVertical: 10 }}>\n            Grocery list\n          </Text>\n          <Icon\n            size={30}\n            color=\"white\"\n            name=\"md-trash\"\n            type=\"ionicon\"\n            onPress={() => {\n              if (groceryList.length) {\n                deleteAllItemsAlert();\n              }\n            }}\n          />\n\n        </View>\n        <View style={styles.inputBox}>\n          <AddIngredientBoxInput searchBoxRef={searchBoxRef} />\n        </View>\n      </View>\n      <ScrollView showsVerticalScrollIndicator={false}>\n        {groceryList.length\n          ? <View style={{ marginBottom: 60 }}>{groceryListJSX}</View>\n          : (\n            <View style={{ height: height - 169, justifyContent: 'center' }}>\n              <Text style={{ fontSize: 20, textAlign: 'center' }}>\n                No items yet\n              </Text>\n            </View>\n          )}\n      </ScrollView>\n    </View>\n  );\n}\n\nfunction mapStateToProps({ groceryListReducer }\n    : { groceryListReducer: object}) {\n  return {\n    groceryList: groceryListReducer,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch<AnyAction>) {\n  return {\n    actions: bindActionCreators({\n      deleteProductFromGorceryList,\n      deleteAllProductsFromGorceryList,\n    }, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\n"]},"metadata":{},"sourceType":"module"}